{"ast":null,"code":"var _jsxFileName = \"/Users/leeduhui/work/golf_reservation/golf_reservation_app/src/components/ReserveForm.js\",\n  _s = $RefreshSig$();\n/* src/components/ReserveForm.js */\nimport React, { useState, useEffect } from \"react\";\nimport { rooms, slots } from \"../utils/data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReserveForm({\n  reservations,\n  onReserve,\n  currentTime\n}) {\n  _s();\n  const [room, setRoom] = useState(rooms[0]);\n  const [start, setStart] = useState(slots[0]);\n  const [end, setEnd] = useState(slots[1]);\n  const [user, setUser] = useState(\"\");\n\n  // start 변경 시 end 자동 설정\n  useEffect(() => {\n    const idx = slots.indexOf(start);\n    if (idx < slots.length - 1) setEnd(slots[idx + 1]);\n  }, [start]);\n\n  // 현재 시각(분)\n  const nowMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();\n  console.log(\"[DEBUG] nowMinutes:\", nowMinutes);\n  const windowStart = 5 * 60; // 05:00\n  const windowEnd = 12 * 60; // 12:00\n\n  // boundaryMinutes 결정\n  let boundaryMinutes;\n  if (nowMinutes < windowStart) {\n    boundaryMinutes = windowStart;\n  } else if (nowMinutes >= windowEnd) {\n    boundaryMinutes = Infinity;\n  } else {\n    boundaryMinutes = Math.ceil(nowMinutes / 30) * 30;\n  }\n  console.log(\"[DEBUG] boundaryMinutes:\", boundaryMinutes);\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(\"[DEBUG] handleSubmit\", {\n      room,\n      start,\n      end,\n      user\n    });\n    const sIdx = slots.indexOf(start);\n    const eIdx = slots.indexOf(end);\n    if (eIdx <= sIdx) {\n      alert(\"종료 시간은 시작 이후여야 합니다.\");\n      return;\n    }\n    const overlap = reservations.some(r => r.room === room && slots.indexOf(r.start) < eIdx && slots.indexOf(r.end) > sIdx);\n    if (overlap) {\n      alert(\"이미 예약이 있습니다.\");\n      return;\n    }\n    onReserve({\n      id: `${room}-${start}-${end}`,\n      room,\n      start,\n      end,\n      user\n    });\n    console.log(\"[DEBUG] Reserved:\", {\n      room,\n      start,\n      end,\n      user\n    });\n    setUser(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      gap: \"8px\",\n      marginTop: \"16px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: room,\n      onChange: e => setRoom(e.target.value),\n      children: rooms.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: r,\n        children: r\n      }, r, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: start,\n      onChange: e => setStart(e.target.value),\n      children: slots.map(s => {\n        const [h, m] = s.split(\":\").map(Number);\n        const slotMinutes = h * 60 + m;\n        const disabled = slotMinutes < boundaryMinutes;\n        console.log(`[DEBUG] start slot ${s}: slotMinutes=${slotMinutes}, disabled=${disabled}`);\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s,\n          disabled: disabled,\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: end,\n      onChange: e => setEnd(e.target.value),\n      children: slots.map(s => {\n        const [h, m] = s.split(\":\").map(Number);\n        const slotMinutes = h * 60 + m;\n        const startMinutes = parseInt(start.split(\":\")[0], 10) * 60 + parseInt(start.split(\":\")[1], 10);\n        const disabled = slotMinutes < boundaryMinutes || slotMinutes <= startMinutes;\n        console.log(`[DEBUG] end slot ${s}: slotMinutes=${slotMinutes}, startMinutes=${startMinutes}, disabled=${disabled}`);\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s,\n          disabled: disabled,\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC774\\uB984\",\n      value: user,\n      onChange: e => setUser(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"\\uC608\\uC57D\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(ReserveForm, \"23iNNJ+zxHe54zz/1yEYe5xCx0o=\");\n_c = ReserveForm;\nvar _c;\n$RefreshReg$(_c, \"ReserveForm\");","map":{"version":3,"names":["React","useState","useEffect","rooms","slots","jsxDEV","_jsxDEV","ReserveForm","reservations","onReserve","currentTime","_s","room","setRoom","start","setStart","end","setEnd","user","setUser","idx","indexOf","length","nowMinutes","getHours","getMinutes","console","log","windowStart","windowEnd","boundaryMinutes","Infinity","Math","ceil","handleSubmit","e","preventDefault","sIdx","eIdx","alert","overlap","some","r","id","onSubmit","style","display","flexWrap","gap","marginTop","children","value","onChange","target","map","fileName","_jsxFileName","lineNumber","columnNumber","s","h","m","split","Number","slotMinutes","disabled","startMinutes","parseInt","type","placeholder","required","_c","$RefreshReg$"],"sources":["/Users/leeduhui/work/golf_reservation/golf_reservation_app/src/components/ReserveForm.js"],"sourcesContent":["/* src/components/ReserveForm.js */\nimport React, { useState, useEffect } from \"react\";\nimport { rooms, slots } from \"../utils/data\";\n\nexport default function ReserveForm({ reservations, onReserve, currentTime }) {\n  const [room, setRoom] = useState(rooms[0]);\n  const [start, setStart] = useState(slots[0]);\n  const [end, setEnd] = useState(slots[1]);\n  const [user, setUser] = useState(\"\");\n\n  // start 변경 시 end 자동 설정\n  useEffect(() => {\n    const idx = slots.indexOf(start);\n    if (idx < slots.length - 1) setEnd(slots[idx + 1]);\n  }, [start]);\n\n  // 현재 시각(분)\n  const nowMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();\n  console.log(\"[DEBUG] nowMinutes:\", nowMinutes);\n  const windowStart = 5 * 60;   // 05:00\n  const windowEnd = 12 * 60;    // 12:00\n\n  // boundaryMinutes 결정\n  let boundaryMinutes;\n  if (nowMinutes < windowStart) {\n    boundaryMinutes = windowStart;\n  } else if (nowMinutes >= windowEnd) {\n    boundaryMinutes = Infinity;\n  } else {\n    boundaryMinutes = Math.ceil(nowMinutes / 30) * 30;\n  }\n  console.log(\"[DEBUG] boundaryMinutes:\", boundaryMinutes);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(\"[DEBUG] handleSubmit\", { room, start, end, user });\n    const sIdx = slots.indexOf(start);\n    const eIdx = slots.indexOf(end);\n    if (eIdx <= sIdx) {\n      alert(\"종료 시간은 시작 이후여야 합니다.\");\n      return;\n    }\n    const overlap = reservations.some(r =>\n      r.room === room &&\n      slots.indexOf(r.start) < eIdx &&\n      slots.indexOf(r.end) > sIdx\n    );\n    if (overlap) {\n      alert(\"이미 예약이 있습니다.\");\n      return;\n    }\n    onReserve({ id: `${room}-${start}-${end}`, room, start, end, user });\n    console.log(\"[DEBUG] Reserved:\", { room, start, end, user });\n    setUser(\"\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit} style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"8px\", marginTop: \"16px\" }}>\n      {/* 방 선택 */}\n      <select value={room} onChange={e => setRoom(e.target.value)}>\n        {rooms.map(r => <option key={r} value={r}>{r}</option>)}\n      </select>\n\n      {/* 시작시간: boundary 이전 비활성화 */}\n      <select value={start} onChange={e => setStart(e.target.value)}>\n        {slots.map(s => {\n          const [h, m] = s.split(\":\").map(Number);\n          const slotMinutes = h * 60 + m;\n          const disabled = slotMinutes < boundaryMinutes;\n          console.log(`[DEBUG] start slot ${s}: slotMinutes=${slotMinutes}, disabled=${disabled}`);\n          return <option key={s} value={s} disabled={disabled}>{s}</option>;\n        })}\n      </select>\n\n      {/* 종료시간: boundary 이전 또는 <= start 비활성화 */}\n      <select value={end} onChange={e => setEnd(e.target.value)}>\n        {slots.map(s => {\n          const [h, m] = s.split(\":\").map(Number);\n          const slotMinutes = h * 60 + m;\n          const startMinutes = parseInt(start.split(\":\")[0], 10) * 60 + parseInt(start.split(\":\")[1], 10);\n          const disabled = slotMinutes < boundaryMinutes || slotMinutes <= startMinutes;\n          console.log(`[DEBUG] end slot ${s}: slotMinutes=${slotMinutes}, startMinutes=${startMinutes}, disabled=${disabled}`);\n          return <option key={s} value={s} disabled={disabled}>{s}</option>;\n        })}\n      </select>\n\n      {/* 사용자 입력 및 예약 */}\n      <input\n        type=\"text\"\n        placeholder=\"이름\"\n        value={user}\n        onChange={e => setUser(e.target.value)}\n        required\n      />\n      <button type=\"submit\">예약하기</button>\n    </form>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}