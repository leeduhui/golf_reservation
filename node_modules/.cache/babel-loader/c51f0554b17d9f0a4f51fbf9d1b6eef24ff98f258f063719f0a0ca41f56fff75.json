{"ast":null,"code":"var _jsxFileName = \"/Users/leeduhui/work/golf_reservation/golf_reservation_app/src/components/ReserveForm.js\",\n  _s = $RefreshSig$();\n/* src/components/ReserveForm.js */\nimport React, { useState, useEffect } from \"react\";\nimport { rooms, slots } from \"../utils/data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReserveForm({\n  reservations,\n  onReserve,\n  currentTime\n}) {\n  _s();\n  const [room, setRoom] = useState(rooms[0]);\n  const [start, setStart] = useState(slots[0]);\n  const [end, setEnd] = useState(slots[1]);\n  const [user, setUser] = useState(\"\");\n  useEffect(() => {\n    const idx = slots.indexOf(start);\n    if (idx < slots.length - 1) setEnd(slots[idx + 1]);\n  }, [start]);\n  const nowMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();\n  const handleSubmit = e => {\n    e.preventDefault();\n    const sIdx = slots.indexOf(start);\n    const eIdx = slots.indexOf(end);\n    if (eIdx <= sIdx) {\n      alert(\"종료 시간은 시작 이후여야 합니다.\");\n      return;\n    }\n    const overlap = reservations.some(r => r.room === room && slots.indexOf(r.start) < eIdx && slots.indexOf(r.end) > sIdx);\n    if (overlap) {\n      alert(\"이미 예약이 있습니다.\");\n      return;\n    }\n    onReserve({\n      id: `${room}-${start}-${end}`,\n      room,\n      start,\n      end,\n      user\n    });\n    setUser(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      gap: \"8px\",\n      marginTop: \"16px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: room,\n      onChange: e => setRoom(e.target.value),\n      children: rooms.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: r,\n        children: r\n      }, r, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: start,\n      onChange: e => setStart(e.target.value),\n      children: slots.map(s => {\n        const [h, m] = s.split(\":\").map(Number);\n        const slotMinutes = h * 60 + m;\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s,\n          disabled: slotMinutes <= nowMinutes,\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: end,\n      onChange: e => setEnd(e.target.value),\n      children: slots.map(s => {\n        const [h, m] = s.split(\":\").map(Number);\n        const slotMinutes = h * 60 + m;\n        const startMinutes = slots.indexOf(start) * 30 + 5 * 60;\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s,\n          disabled: slotMinutes <= nowMinutes || slotMinutes <= slots.indexOf(start) * 30 + 5 * 60,\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC774\\uB984\",\n      value: user,\n      onChange: e => setUser(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"\\uC608\\uC57D\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(ReserveForm, \"23iNNJ+zxHe54zz/1yEYe5xCx0o=\");\n_c = ReserveForm;\nvar _c;\n$RefreshReg$(_c, \"ReserveForm\");","map":{"version":3,"names":["React","useState","useEffect","rooms","slots","jsxDEV","_jsxDEV","ReserveForm","reservations","onReserve","currentTime","_s","room","setRoom","start","setStart","end","setEnd","user","setUser","idx","indexOf","length","nowMinutes","getHours","getMinutes","handleSubmit","e","preventDefault","sIdx","eIdx","alert","overlap","some","r","id","onSubmit","style","display","flexWrap","gap","marginTop","children","value","onChange","target","map","fileName","_jsxFileName","lineNumber","columnNumber","s","h","m","split","Number","slotMinutes","disabled","startMinutes","type","placeholder","required","_c","$RefreshReg$"],"sources":["/Users/leeduhui/work/golf_reservation/golf_reservation_app/src/components/ReserveForm.js"],"sourcesContent":["/* src/components/ReserveForm.js */\nimport React, { useState, useEffect } from \"react\";\nimport { rooms, slots } from \"../utils/data\";\n\nexport default function ReserveForm({ reservations, onReserve, currentTime }) {\n  const [room, setRoom] = useState(rooms[0]);\n  const [start, setStart] = useState(slots[0]);\n  const [end, setEnd] = useState(slots[1]);\n  const [user, setUser] = useState(\"\");\n\n  useEffect(() => {\n    const idx = slots.indexOf(start);\n    if (idx < slots.length - 1) setEnd(slots[idx + 1]);\n  }, [start]);\n\n  const nowMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();\n  const handleSubmit = e => {\n    e.preventDefault();\n    const sIdx = slots.indexOf(start);\n    const eIdx = slots.indexOf(end);\n    if (eIdx <= sIdx) {\n      alert(\"종료 시간은 시작 이후여야 합니다.\");\n      return;\n    }\n    const overlap = reservations.some(r =>\n      r.room === room &&\n      slots.indexOf(r.start) < eIdx &&\n      slots.indexOf(r.end) > sIdx\n    );\n    if (overlap) {\n      alert(\"이미 예약이 있습니다.\");\n      return;\n    }\n    onReserve({ id: `${room}-${start}-${end}`, room, start, end, user });\n    setUser(\"\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit} style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"8px\", marginTop: \"16px\" }}>\n      <select value={room} onChange={e => setRoom(e.target.value)}>\n        {rooms.map(r => (\n          <option key={r} value={r}>{r}</option>\n        ))}\n      </select>\n      <select value={start} onChange={e => setStart(e.target.value)}>\n        {slots.map(s => {\n          const [h, m] = s.split(\":\").map(Number);\n          const slotMinutes = h * 60 + m;\n          return (\n            <option\n              key={s}\n              value={s}\n              disabled={slotMinutes <= nowMinutes}\n            >\n              {s}\n            </option>\n          );\n        })}\n      </select>\n      <select value={end} onChange={e => setEnd(e.target.value)}>\n        {slots.map(s => {\n          const [h, m] = s.split(\":\").map(Number);\n          const slotMinutes = h * 60 + m;\n          const startMinutes = slots.indexOf(start) * 30 + 5 * 60;\n          return (\n            <option\n              key={s}\n              value={s}\n              disabled={\n                slotMinutes <= nowMinutes ||\n                slotMinutes <= (slots.indexOf(start) * 30 + 5 * 60)\n              }\n            >\n              {s}\n            </option>\n          );\n        })}\n      </select>\n      <input\n        type=\"text\"\n        placeholder=\"이름\"\n        value={user}\n        onChange={e => setUser(e.target.value)}\n        required\n      />\n      <button type=\"submit\">예약하기</button>\n    </form>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}