{"ast":null,"code":"/* src/components/TimeTable.js */import React from\"react\";import\"./TimeTable.css\";// 05:00 ~ 24:00 까지 30분 단위, \"24:00\" 포함\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const hours=Array.from({length:39},(_,i)=>{const h=Math.floor((300+i*30)/60);const m=(300+i*30)%60;return\"\".concat(String(h).padStart(2,\"0\"),\":\").concat(String(m).padStart(2,\"0\"));});function TimeTable(_ref){let{reservations,onCancel,currentTime,viewedDate}=_ref;const resMap={};reservations.forEach(r=>{const sIdx=hours.indexOf(r.start);const eIdx=hours.indexOf(r.end);if(sIdx!==-1&&eIdx!==-1){for(let i=sIdx;i<eIdx;i++){resMap[i]=r;}}});const nowTime=new Date(currentTime);const isToday=viewedDate===nowTime.toISOString().split(\"T\")[0];const nowMinutes=nowTime.getHours()*60+nowTime.getMinutes();//const nowMinutes = now.getHours() * 60 + now.getMinutes();\nconst handleCancelClick=reservation=>{const inputContainer=document.createElement(\"div\");const input=document.createElement(\"input\");input.type=\"password\";input.placeholder=\"비밀번호 4자리\";input.style.padding=\"8px\";input.style.width=\"100%\";const confirmBtn=document.createElement(\"button\");confirmBtn.textContent=\"확인\";confirmBtn.style.marginTop=\"8px\";confirmBtn.onclick=()=>{if(input.value===reservation.password){document.body.removeChild(inputContainer);onCancel(reservation.id);}else{alert(\"비밀번호가 일치하지 않습니다. 취소할 수 없습니다.\");document.body.removeChild(inputContainer);}};inputContainer.style.position=\"fixed\";inputContainer.style.top=\"50%\";inputContainer.style.left=\"50%\";inputContainer.style.transform=\"translate(-50%, -50%)\";inputContainer.style.background=\"white\";inputContainer.style.padding=\"20px\";inputContainer.style.boxShadow=\"0 4px 8px rgba(0, 0, 0, 0.2)\";inputContainer.style.zIndex=1000;inputContainer.appendChild(input);inputContainer.appendChild(confirmBtn);document.body.appendChild(inputContainer);};return/*#__PURE__*/_jsx(\"div\",{className:\"timetable\",children:hours.map((slot,i)=>{const r=resMap[i];const[sh,sm]=slot.split(\":\").map(Number);const slotMinutes=sh*60+sm;const isPast=isToday&&slotMinutes<nowMinutes;//const slotMinutes = hour * 60 + (idx % 2) * 30;\n//const isPastSlot = isToday && slotMinutes < nowMinutes;\nconst rowClass=\"time-slot \".concat(r?\"reserved\":\"\");return(/*#__PURE__*///<div key={slot} className={rowClass} style={{ backgroundColor: i % 2 === 0 ? '#ffffff' : '#f7f7f7' }}>\n_jsxs(\"div\",{className:\"time-slot \".concat(reservation?'reserved':'',\" \").concat(isPastSlot?'past':''),onClick:isPastSlot?undefined:()=>handleClick(i,r),children:[/*#__PURE__*/_jsx(\"div\",{className:\"slot-time\",children:slot}),/*#__PURE__*/_jsx(\"div\",{className:\"slot-info\",children:r?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:r.user}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",onClick:()=>handleCancelClick(r),children:\"\\uCDE8\\uC18C\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"available\",children:\"\\uC608\\uC57D \\uAC00\\uB2A5\"})})]},i));})});}export default TimeTable;","map":{"version":3,"names":["React","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","hours","Array","from","length","_","i","h","Math","floor","m","concat","String","padStart","TimeTable","_ref","reservations","onCancel","currentTime","viewedDate","resMap","forEach","r","sIdx","indexOf","start","eIdx","end","nowTime","Date","isToday","toISOString","split","nowMinutes","getHours","getMinutes","handleCancelClick","reservation","inputContainer","document","createElement","input","type","placeholder","style","padding","width","confirmBtn","textContent","marginTop","onclick","value","password","body","removeChild","id","alert","position","top","left","transform","background","boxShadow","zIndex","appendChild","className","children","map","slot","sh","sm","Number","slotMinutes","isPast","rowClass","isPastSlot","onClick","undefined","handleClick","user"],"sources":["/Users/leeduhui/work/golf_reservation/golf_reservation_app/src/components/TimeTable.js"],"sourcesContent":["/* src/components/TimeTable.js */\nimport React from \"react\";\nimport \"./TimeTable.css\";\n\n// 05:00 ~ 24:00 까지 30분 단위, \"24:00\" 포함\nconst hours = Array.from({ length: 39 }, (_, i) => {\n  const h = Math.floor((300 + i * 30) / 60);\n  const m = (300 + i * 30) % 60;\n  return `${String(h).padStart(2, \"0\")}:${String(m).padStart(2, \"0\")}`;\n});\n\nfunction TimeTable({ reservations, onCancel, currentTime, viewedDate }) {\n  const resMap = {};\n  reservations.forEach(r => {\n    const sIdx = hours.indexOf(r.start);\n    const eIdx = hours.indexOf(r.end);\n    if (sIdx !== -1 && eIdx !== -1) {\n      for (let i = sIdx; i < eIdx; i++) {\n        resMap[i] = r;\n      }\n    }\n  });\n\n  const nowTime = new Date(currentTime);\n  const isToday = viewedDate === nowTime.toISOString().split(\"T\")[0];\n  const nowMinutes = nowTime.getHours() * 60 + nowTime.getMinutes();\n  //const nowMinutes = now.getHours() * 60 + now.getMinutes();\n\n\n  const handleCancelClick = (reservation) => {\n    const inputContainer = document.createElement(\"div\");\n    const input = document.createElement(\"input\");\n    input.type = \"password\";\n    input.placeholder = \"비밀번호 4자리\";\n    input.style.padding = \"8px\";\n    input.style.width = \"100%\";\n    const confirmBtn = document.createElement(\"button\");\n    confirmBtn.textContent = \"확인\";\n    confirmBtn.style.marginTop = \"8px\";\n    confirmBtn.onclick = () => {\n      if (input.value === reservation.password) {\n        document.body.removeChild(inputContainer);\n        onCancel(reservation.id);\n      } else {\n        alert(\"비밀번호가 일치하지 않습니다. 취소할 수 없습니다.\");\n        document.body.removeChild(inputContainer);\n      }\n    };\n    inputContainer.style.position = \"fixed\";\n    inputContainer.style.top = \"50%\";\n    inputContainer.style.left = \"50%\";\n    inputContainer.style.transform = \"translate(-50%, -50%)\";\n    inputContainer.style.background = \"white\";\n    inputContainer.style.padding = \"20px\";\n    inputContainer.style.boxShadow = \"0 4px 8px rgba(0, 0, 0, 0.2)\";\n    inputContainer.style.zIndex = 1000;\n    inputContainer.appendChild(input);\n    inputContainer.appendChild(confirmBtn);\n    document.body.appendChild(inputContainer);\n  };\n\n  return (\n    <div className=\"timetable\">\n      {hours.map((slot, i) => {\n        const r = resMap[i];\n        const [sh, sm] = slot.split(\":\").map(Number);\n        const slotMinutes = sh * 60 + sm;\n        const isPast = isToday && slotMinutes < nowMinutes;\n        //const slotMinutes = hour * 60 + (idx % 2) * 30;\n        //const isPastSlot = isToday && slotMinutes < nowMinutes;\n\n        const rowClass = `time-slot ${r ? \"reserved\" : \"\"}`;\n\n        return (\n          //<div key={slot} className={rowClass} style={{ backgroundColor: i % 2 === 0 ? '#ffffff' : '#f7f7f7' }}>\n          <div\n            key={i}\n            className={`time-slot ${reservation ? 'reserved' : ''} ${isPastSlot ? 'past' : ''}`} \n            onClick={isPastSlot ? undefined : () => handleClick(i, r)} \n          >\n            <div className=\"slot-time\">{slot}</div>\n            <div className=\"slot-info\">\n              {r ? (\n                <>\n                  <span>{r.user}</span>\n                  <button className=\"cancel\" onClick={() => handleCancelClick(r)}>취소</button>\n                </>\n              ) : (\n                <span className=\"available\">예약 가능</span>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default TimeTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}